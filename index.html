<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
      integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
      crossorigin="anonymous"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
    <title>Work Day Scheduler</title>
  </head>

  <body>
    <header class="jumbotron">
      <h1 class="display-3">Work Day Scheduler</h1>
      <p class="lead">A simple calendar app for scheduling your work day</p>
      <p id="currentDay" class="lead"></p>
    </header>
    <div class="momentTime">
      <!-- Timeblocks go here -->
    </div>

    <container class="master">

    <!-- 9AM Block -->

    <div class = "events" id="event-form-9">
      <input class = "time-block" type="text" id="event-input9am">
      <button class = "saveBtn" id = "lockBtn9am" value = 9>9 AM</button>
    </div>

    <!-- 10AM Block -->

    <div class = "events" id="event-form-10">
        <input class = "time-block" type="text" id="event-input10am">
        <button class = "saveBtn" id = "lockBtn10am" value = 10>10 AM</button>
    </div>

    <!-- 11AM Block -->

    <div class = "events" id="event-form-11">
        <input class = "time-block" type="text" id="event-input11am">
        <button class = "saveBtn" id = "lockBtn11am" value = 11>11 AM</button>
    </div>
    
    <!-- 12PM Block -->

    <div class = "events" id="event-form-12">
        <input class = "time-block" type="text" id="event-input12pm">
        <button class = "saveBtn" id = "lockBtn12pm" value = 12>12 PM</button>
    </div>

    <!-- 1PM Block -->

    <div class = "events" id="event-form-1">
        <input class = "time-block" type="text" id="event-input1pm">
        <button class = "saveBtn" id = "lockBtn1pm" value = 1>1 PM</button>
    </div>

    <!-- 2PM Block -->

    <div class = "events" id="event-form-2">
        <input class = "time-block" type="text" id="event-input2pm">
        <button class = "saveBtn" id = "lockBtn2pm" value = 2>2 PM</button>
    </div>

    <!-- 3PM Block -->

    <div class = "events" id="event-form-3">
        <input class = "time-block" type="text" id="event-input3pm">
        <button class = "saveBtn" id = "lockBtn3pm" value = 3>3 PM</button>
    </div>

    <!-- 4PM Block -->

    <div class = "events" id="event-form-4">
        <input class = "time-block" type="text" id="event-input4pm">
        <button class = "saveBtn" id = "lockBtn4pm" value = 4>4 PM</button>
    </div>

    <!-- 5PM Block -->

    <div class = "events" id="event-form-5">
        <input class = "time-block" type="text" id="event-input5pm">
        <button class = "saveBtn" id = "lockBtn5pm" value = 5>5 PM</button>
    </div>

    </container>

    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
    

    <script type = "text/javascript">

    // (1) Define global variables

    var currentDay = moment().format('MMMM Do YYYY, h:mm:ss a');
    var currentTime = moment().format("LT")
    var CurrentTimeString = currentTime.toString(0,1)
    var CurrentTimeInt = parseInt(CurrentTimeString)


    var militaryHourString = moment().format('HH')
    var militaryHourInt = parseInt(militaryHourString)

    console.log(militaryHourInt)
    console.log(typeof militaryHourInt)
    
    

    console.log(typeof timeValue)
    console.log(typeof CurrentTimeString)

    console.log(CurrentTimeInt)

    //(2) Change elements of timeblocks to show past, present, and future

    // 9 am Functionality

    if (militaryHourInt == 9){
        $("#event-input9am").addClass("present")
    } else if (militaryHourInt > 9){
        $("#event-input9am").addClass("past")
    } else{
        $("#event-input9am").addClass("future")
    }

    // 10 am Functionality

    if (militaryHourInt == 10){
        $("#event-input10am").addClass("present")
    } else if (militaryHourInt > 10){
        $("#event-input10am").addClass("past")
    } else{
        $("#event-input10am").addClass("future")
    }

    // 11am Functionality

    if (militaryHourInt == 11){
        $("#event-input11am").addClass("present")
    } else if (militaryHourInt > 11){
        $("#event-input11am").addClass("past")
    } else{
        $("#event-input11am").addClass("future")
    }

    // 12pm functionality

    if (militaryHourInt == 12){
        $("#event-input12pm").addClass("present")
    } else if (militaryHourInt > 12){
        $("#event-input12pm").addClass("past")
    } else{
        $("#event-input12pm").addClass("future")
    }

    // 1pm functionality

    if (militaryHourInt == 13){
        $("#event-input1pm").addClass("present")
    } else if (militaryHourInt > 13){
        $("#event-input1pm").addClass("past")
    } else{
        $("#event-input1pm").addClass("future")
    }

    // 2pm functionality

    if (militaryHourInt == 14){
        $("#event-input2pm").addClass("present")
    } else if (militaryHourInt > 14){
        $("#event-input2pm").addClass("past")
    } else{
        $("#event-input2pm").addClass("future")
    }

    // 3pm functionality

    if (militaryHourInt== 15){
        $("#event-input3pm").addClass("present")
    } else if (militaryHourInt > 15){
        $("#event-input3pm").addClass("past")
    } else{
        $("#event-input3pm").addClass("future")
    }

    // 4 pm functionality

    if (militaryHourInt == 16){
        $("#event-input4pm").addClass("present")
    } else if (militaryHourInt > 16){
        $("#event-input4pm").addClass("past")
    } else{
        $("#event-input4pm").addClass("future")
    }

    // 5 pm functionality

    if (militaryHourInt == 17){
        $("#event-input5pm").addClass("present")
    } else if (militaryHourInt> 17){
        $("#event-input5pm").addClass("past")
    } else{
        $("#event-input5pm").addClass("future")
    }



    // (3) Display current time to top of the page

    $("#currentDay").text(currentDay)



    // (4) If user has not input data, Get value of user input, save value to local storage, and append the html element
    
    $(document).ready(function renderButtons(){
        $(".events").each(function(){
            timeID = $(this).attr("id")
            var eventLS = localStorage.getItem(timeID)
            console.log(eventLS)
            $(`#${timeID} .time-block`).val(eventLS)
    })
      $(".saveBtn").on("click",function(){
        var value = $(this).siblings(".time-block").val()
        alert(value)
        console.log(value)

        var timeID = $(this).parent().attr("id")â€©

        console.log(timeID)

        localStorage.setItem(timeID,value)
      
      })
    })



    </script>

  </body>
</html>
